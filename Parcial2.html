<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Buscador de Artistas</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    background-color: #7171cc;
    margin: 0;
    padding: 20px;
  }
  #artista {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
  }
  .tarjeta {
    background-color: #ffffff;
    border-radius: 10px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.15);
    width: 280px;
    padding: 15px;
    text-align: center;
  }
  .tarjeta img {
    width: 100%;
    max-height: 200px;
    object-fit: cover;
    border-radius: 8px;
    margin-bottom: 10px;
  }
  .tarjeta ul {
    list-style: none;
    padding-left: 0;
    margin: 0;
  }
  .tarjeta li {
    padding: 3px 0;
    border-bottom: 1px solid #eee;
  }
  @media (max-width: 650px) {
    .tarjeta {
      width: 90%;
    }
  }
</style>
</head>
<body>

<h1>Buscador </h1>
<input type="text" id="nombreArtista" placeholder="Escribe el nombre del artista">
<button id="cargar">Buscar</button>

<div id="artista"></div>

<script>
document.getElementById('cargar').addEventListener('click', async () => {
  const nombre = document.getElementById('nombreArtista').value.trim();
  const contenedor = document.getElementById('artista');
  contenedor.innerHTML = '';

  if (!nombre) {
    alert('Por favor ingresa un nombre de artista');
    return;
  }

  try {
  
    const response = await fetch(`https://musicbrainz.org/ws/2/artist/?query=${encodeURIComponent(nombre)}&fmt=json`);
    const data = await response.json();

    if (!data.artists || data.artists.length === 0) {
      const p = document.createElement('p');
      p.textContent = `No se encontró el artista "${nombre}".`;
      contenedor.appendChild(p);
      return;
    }

    const artista = data.artists[0];

    const tarjeta = document.createElement('div');
    tarjeta.className = 'tarjeta';

    const h2 = document.createElement('h2');
    h2.textContent = artista.name;
    tarjeta.appendChild(h2);

    const img = document.createElement('img');
    img.src = 'https://via.placeholder.com/280x200?text=Sin+imagen';
    img.alt = artista.name;
    tarjeta.appendChild(img);

    const pais = document.createElement('p');
    pais.textContent = 'País: ' + (artista.country || 'Desconocido');
    tarjeta.appendChild(pais);

    const genero = document.createElement('p');
    genero.textContent = 'Género: ' + (artista.genre || 'Desconocido');
    tarjeta.appendChild(genero);

    const h3 = document.createElement('h3');
    h3.textContent = 'Álbumes:';
    tarjeta.appendChild(h3);

    const ul = document.createElement('ul');
    tarjeta.appendChild(ul);

    contenedor.appendChild(tarjeta);

   
    const albResponse = await fetch(`https://musicbrainz.org/ws/2/release-group/?artist=${artista.id}&fmt=json`);
    const albData = await albResponse.json();

    if (albData['release-groups'] && albData['release-groups'].length > 0) {
      albData['release-groups'].forEach(album => {
        const li = document.createElement('li');
        li.textContent = `${album.title} (${album['first-release-date'] || 'N/A'})`;
        ul.appendChild(li);
      });
    } else {
      const li = document.createElement('li');
      li.textContent = 'No se encontraron álbumes.';
      ul.appendChild(li);
    }

  } catch (error) {
    console.error('Error al buscar el artista:', error);
    const p = document.createElement('p');
    p.textContent = 'Ocurrió un error al buscar el artista.';
    contenedor.appendChild(p);
  }
});
</script>

</body>
</html>
